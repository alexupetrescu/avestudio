# SEO Implementation Guide

This document describes the comprehensive SEO implementation for the AVE Studio website.

## Features Implemented

### 1. Meta Tags & Open Graph
- **Dynamic metadata** for all pages (home, portfolio, albums, client pages)
- **Open Graph tags** for social media sharing (Facebook, LinkedIn, etc.)
- **Twitter Card** support for Twitter sharing
- **Automatic image extraction** - Pages automatically pull the first image they find for social media previews

### 2. Sitemap Generation
- **Next.js sitemap** (`/sitemap.xml`) - Automatically generated sitemap including:
  - Home page
  - Portfolio page
  - Portfolio category pages
  - Albums page
- **Dynamic updates** - Sitemap regenerates based on content from the API

### 3. Robots.txt
- **Automated robots.txt** (`/robots.txt`) - Properly configured to:
  - Allow all search engines to index public pages
  - Disallow private client pages (`/client/`)
  - Disallow API endpoints (`/api/`)
  - Reference the sitemap location

### 4. Structured Data (JSON-LD)
- **Organization schema** - Company information with contact points
- **Automatic injection** in the root layout for all pages
- **SEO-friendly** structured data for search engines

### 5. Image Optimization
- **Automatic first image extraction** from:
  - Portfolio items
  - Album images
  - Page content
- **Fallback images** when no images are found
- **Proper image URLs** - All images are converted to absolute URLs for social sharing

## File Structure

### Frontend (Next.js)

```
frontend/src/
├── lib/
│   ├── seo.ts              # SEO utility functions
│   └── structured-data.ts  # JSON-LD structured data helpers
├── app/
│   ├── layout.tsx           # Root layout with default metadata
│   ├── page.tsx             # Home page with metadata
│   ├── portfolio/
│   │   └── page.tsx         # Portfolio page with dynamic metadata
│   ├── albums/
│   │   ├── page.tsx         # Albums page with metadata
│   │   └── [id]/
│   │       └── layout.tsx   # Album detail metadata
│   ├── client/
│   │   ├── page.tsx         # Client portal with metadata
│   │   └── [id]/
│   │       └── layout.tsx   # Client album metadata
│   ├── sitemap.ts           # Dynamic sitemap generation
│   └── robots.ts            # Robots.txt generation
```

### Backend (Django)

```
backend/
├── seo_utils.py             # SEO utility functions for Django templates
└── sitemap.py               # Django sitemap (optional, for API)
```

## Configuration

### Environment Variables

Add to `frontend/.env.local`:
```env
NEXT_PUBLIC_SITE_URL=https://avestudio.ro
```

For production, update:
- `NEXT_PUBLIC_SITE_URL` - Your production domain

### Default Settings

The SEO system uses these defaults (defined in `frontend/src/lib/seo.ts`):
- **Site URL**: `https://avestudio.ro` (or from `NEXT_PUBLIC_SITE_URL`)
- **Site Name**: `AVE Studio`
- **Default Image**: Logo SVG
- **Locale**: `ro_RO` (Romanian)

## How It Works

### 1. Page Metadata
Each page generates its own metadata using the `generateMetadata` function:
- Extracts the first image from content
- Creates appropriate title and description
- Generates Open Graph and Twitter Card tags
- Sets canonical URLs

### 2. Image Extraction
The `extractFirstImage` function:
- Looks for images in arrays of content
- Handles both string URLs and object structures
- Converts relative URLs to absolute URLs
- Falls back to default image if none found

### 3. Sitemap Generation
The sitemap is automatically generated by Next.js:
- Fetches portfolio items and categories from API
- Creates entries for all public pages
- Updates automatically when content changes
- Accessible at `/sitemap.xml`

### 4. Social Media Previews
When pages are shared on social media:
- **Facebook/LinkedIn**: Uses Open Graph tags
- **Twitter**: Uses Twitter Card tags
- **Image**: Automatically uses first image found on page
- **Title & Description**: Uses page-specific metadata

## Testing

### Verify Sitemap
Visit: `https://yourdomain.com/sitemap.xml`

### Verify Robots.txt
Visit: `https://yourdomain.com/robots.txt`

### Test Social Media Previews
Use these tools to test how your pages appear when shared:
- **Facebook**: https://developers.facebook.com/tools/debug/
- **Twitter**: https://cards-dev.twitter.com/validator
- **LinkedIn**: https://www.linkedin.com/post-inspector/

### Verify Metadata
- View page source and check `<head>` section
- Look for `<meta property="og:*">` tags
- Check for JSON-LD structured data

## Customization

### Update Default Metadata
Edit `frontend/src/app/layout.tsx` to change default site-wide metadata.

### Add More Structured Data
Use functions from `frontend/src/lib/structured-data.ts` to add:
- Breadcrumbs
- Photo galleries
- Articles
- Events

### Customize Image Extraction
Modify `extractFirstImage` in `frontend/src/lib/seo.ts` to change how images are extracted.

## Notes

- **Client albums** are excluded from sitemap (private content)
- **API endpoints** are disallowed in robots.txt
- **Dynamic routes** use layout files to generate metadata
- **Images** are automatically converted to absolute URLs for social sharing

## Future Enhancements

Potential improvements:
1. Add individual portfolio item pages with metadata
2. Add blog/article structured data if blog is added
3. Add review/rating structured data
4. Implement hreflang tags for multi-language support
5. Add video structured data for video content

